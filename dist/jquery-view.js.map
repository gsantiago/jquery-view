{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","jquery-view.js","node_modules/browserify/node_modules/events/events.js","node_modules/browserify/node_modules/inherits/inherits_browser.js","node_modules/browserify/node_modules/process/browser.js","node_modules/browserify/node_modules/util/support/isBufferBrowser.js","node_modules/browserify/node_modules/util/util.js","src/Template.js","src/View.js","src/directives.js","src/utils.js"],"names":["g","f","r","require","name","jquery","jQuery","exports","module","define","amd","bind","View","this","e","t","n","s","o","u","a","i","Error","code","l","call","length",1,"$","Template","fn","view","options","views","each","push","data","./src/Template","./src/View",2,"EventEmitter","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","Array","slice","apply","addListener","listener","m","newListener","warned","console","trace","on","once","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter",3,"Object","create","ctor","superCtor","super_","constructor","value","enumerable","writable","configurable","TempCtor",4,"cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","setTimeout","run","clearTimeout","Item","fun","array","noop","process","nextTick","title","browser","env","argv","version","versions","off","binding","cwd","chdir","dir","umask",5,"copy","fill","readUInt8",6,"global","inspect","obj","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","str","styleType","style","styles","arrayToHash","hash","forEach","val","idx","recurseTimes","isString","primitive","formatPrimitive","keys","visibleKeys","getOwnPropertyNames","isError","indexOf","formatError","isRegExp","RegExp","toString","isDate","Date","base","braces","isArray","toUTCString","output","formatArray","map","formatProperty","pop","reduceToSingleString","simple","JSON","stringify","replace","isNull","hasOwnProperty","String","match","desc","getOwnPropertyDescriptor","get","set","split","line","join","substr","numLinesEst","reduce","prev","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","pad","timestamp","time","getHours","getMinutes","getSeconds","getDate","months","getMonth","prop","formatRegExp","format","objects","x","Number","_","deprecate","msg","deprecated","throwDeprecation","traceDeprecation","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","toUpperCase","test","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isBuffer","log","inherits","origin","add","self","window","./support/isBuffer","_process",7,"source","trim","context","vars","utils","directives","setSource","parse","$source","parseHTML","$holder","appendTo","find","$this","parents","last","is","applyDirectives","supplant","html","compile","expr","values","Function","b","isPlainObject","result","escape","$el","props","getProps","repeat","removeAttr","addDirective","./directives","./utils",8,"transclusion","_options","extend","defaults","_state","option","_directiveEvents","when","_getInitialState","_getTemplate","done","state","template","_templateSource","_template","_start","fail","err","cache","templateUrl","beforeRender","afterRender","events","promise","deferred","Deferred","response","resolve","reject","getState","setState","setStateFromAjax","conf","url","method","property","ajax","dataType","resolveWith","rejectWith","removeFromState","index","insertIntoState","item","extendStateItem","_getExternalTemplate","_render","currentState","event","selector","filter","$newEl","replaceWith","callback","_getDataReferences","_clearEvents","_bindEvents","init","_walkEventsHash","cb","eventName","eventListener","selectors","$target","$references","$control","isCheckbox","attr","isSelect","tagName","toLowerCase","reference","defineProperty","./Template","util",9,"registerEvent","expression","target","$event","text","show","remove","hide","class","className","addClass","kebabCase","removeClass","css","needle","haystack","total","$collection","counter","$index","$key","$total","$first","$last","$even","$odd","$middle","append","transclude","controls",10,"attributes","camelCase","KEBAB_REGEX","entityMap","&","<",">","\"","'","/"],"mappings":"CAAA,SAAAA,EAAAC,GAAA,GAAAC,GAAA,kBAAAC,SAAAA,QAAA,SAAAC,GAAA,OAAAC,OAAAC,QAAAF,GAAA,iBAAAG,UAAA,mBAAAC,QAAAA,OAAAD,QAAAN,EAAAC,GAAA,kBAAAO,SAAAA,OAAAC,IAAAD,QAAA,UAAAR,EAAAU,KAAAX,EAAAE,IAAAF,EAAAY,KAAAX,EAAAC,IAAAW,KAAA,SAAAV,EAAAM,EAAAD,EAAAD,GAAA,MAAA,SAAAO,GAAAC,EAAAC,EAAAd,GAAA,QAAAe,GAAAC,EAAAC,GAAA,IAAAH,EAAAE,GAAA,CAAA,IAAAH,EAAAG,GAAA,CAAA,GAAAE,GAAA,kBAAAjB,IAAAA,CAAA,KAAAgB,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAG,EAAA,MAAAA,GAAAH,GAAA,EAAA,IAAAjB,GAAA,GAAAqB,OAAA,uBAAAJ,EAAA,IAAA,MAAAjB,GAAAsB,KAAA,mBAAAtB,EAAA,GAAAuB,GAAAR,EAAAE,IAAAX,WAAAQ,GAAAG,GAAA,GAAAO,KAAAD,EAAAjB,QAAA,SAAAO,GAAA,GAAAE,GAAAD,EAAAG,GAAA,GAAAJ,EAAA,OAAAG,GAAAD,EAAAA,EAAAF,IAAAU,EAAAA,EAAAjB,QAAAO,EAAAC,EAAAC,EAAAd,GAAA,MAAAc,GAAAE,GAAAX,QAAA,IAAA,GAAAc,GAAA,kBAAAlB,IAAAA,EAAAe,EAAA,EAAAA,EAAAhB,EAAAwB,OAAAR,IAAAD,EAAAf,EAAAgB,GAAA,OAAAD,KAAAU,GAAA,SAAAxB,EAAAK,EAAAD,GCIA,GAAAqB,GAAAzB,EAAA,UACAS,EAAAT,EAAA,cACA0B,EAAA1B,EAAA,iBAEAyB,GAAAE,GAAAC,KAAA,SAAAC,GACA,GAAAnB,KAAAa,OAAA,CAEA,GAAAb,KAAAa,OAAA,EAAA,CACA,GAAAO,KAMA,OAJApB,MAAAqB,KAAA,WACAD,EAAAE,KAAAP,EAAAE,GAAAC,KAAAN,KAAAG,EAAAf,MAAAmB,MAGAC,EAGA,GAAAF,GAAA,GAAAnB,GAAAC,KAAAmB,EAEA,OADAnB,MAAAuB,KAAA,OAAAL,GACAA,IAGAH,EAAAE,GAAAC,KAAAF,SAAAA,EAMArB,EAAAD,QAAAK,IAGGyB,iBAAiB,EAAEC,aAAa,EAAEjC,OAAS,WAAWkC,GAAG,SAASpC,EAAQK,EAAOD,GCdpF,QAAAiC,KACA3B,KAAA4B,QAAA5B,KAAA4B,YACA5B,KAAA6B,cAAA7B,KAAA6B,eAAAC,OAoQA,QAAAC,GAAAC,GACA,MAAA,kBAAAA,GAGA,QAAAC,GAAAD,GACA,MAAA,gBAAAA,GAGA,QAAAE,GAAAF,GACA,MAAA,gBAAAA,IAAA,OAAAA,EAGA,QAAAG,GAAAH,GACA,MAAA,UAAAA,EA/QArC,EAAAD,QAAAiC,EAGAA,EAAAA,aAAAA,EAEAA,EAAAS,UAAAR,QAAAE,OACAH,EAAAS,UAAAP,cAAAC,OAIAH,EAAAU,oBAAA,GAIAV,EAAAS,UAAAE,gBAAA,SAAAnC,GACA,IAAA8B,EAAA9B,IAAA,EAAAA,GAAAoC,MAAApC,GACA,KAAAqC,WAAA,8BAEA,OADAxC,MAAA6B,cAAA1B,EACAH,MAGA2B,EAAAS,UAAAK,KAAA,SAAAC,GACA,GAAAC,GAAAC,EAAAC,EAAAC,EAAAtC,EAAAuC,CAMA,IAJA/C,KAAA4B,UACA5B,KAAA4B,YAGA,UAAAc,KACA1C,KAAA4B,QAAAoB,OACAd,EAAAlC,KAAA4B,QAAAoB,SAAAhD,KAAA4B,QAAAoB,MAAAnC,QAAA,CAEA,GADA8B,EAAAM,UAAA,GACAN,YAAAlC,OACA,KAAAkC,EAEA,MAAAH,WAAA,wCAMA,GAFAI,EAAA5C,KAAA4B,QAAAc,GAEAP,EAAAS,GACA,OAAA,CAEA,IAAAb,EAAAa,GACA,OAAAK,UAAApC,QAEA,IAAA,GACA+B,EAAAhC,KAAAZ,KACA,MACA,KAAA,GACA4C,EAAAhC,KAAAZ,KAAAiD,UAAA,GACA,MACA,KAAA,GACAL,EAAAhC,KAAAZ,KAAAiD,UAAA,GAAAA,UAAA,GACA,MAEA,SACAH,EAAAI,MAAAd,UAAAe,MAAAvC,KAAAqC,UAAA,GACAL,EAAAQ,MAAApD,KAAA8C,OAEA,IAAAZ,EAAAU,GAIA,IAHAE,EAAAI,MAAAd,UAAAe,MAAAvC,KAAAqC,UAAA,GACAF,EAAAH,EAAAO,QACAN,EAAAE,EAAAlC,OACAL,EAAA,EAAAqC,EAAArC,EAAAA,IACAuC,EAAAvC,GAAA4C,MAAApD,KAAA8C,EAGA,QAAA,GAGAnB,EAAAS,UAAAiB,YAAA,SAAAX,EAAAY,GACA,GAAAC,EAEA,KAAAxB,EAAAuB,GACA,KAAAd,WAAA,8BA2CA,OAzCAxC,MAAA4B,UACA5B,KAAA4B,YAIA5B,KAAA4B,QAAA4B,aACAxD,KAAAyC,KAAA,cAAAC,EACAX,EAAAuB,EAAAA,UACAA,EAAAA,SAAAA,GAEAtD,KAAA4B,QAAAc,GAGAR,EAAAlC,KAAA4B,QAAAc,IAEA1C,KAAA4B,QAAAc,GAAApB,KAAAgC,GAGAtD,KAAA4B,QAAAc,IAAA1C,KAAA4B,QAAAc,GAAAY,GANAtD,KAAA4B,QAAAc,GAAAY,EASApB,EAAAlC,KAAA4B,QAAAc,MAAA1C,KAAA4B,QAAAc,GAAAe,SAIAF,EAHApB,EAAAnC,KAAA6B,eAGAF,EAAAU,oBAFArC,KAAA6B,cAKA0B,GAAAA,EAAA,GAAAvD,KAAA4B,QAAAc,GAAA7B,OAAA0C,IACAvD,KAAA4B,QAAAc,GAAAe,QAAA,EACAC,QAAAV,MAAA,mIAGAhD,KAAA4B,QAAAc,GAAA7B,QACA,kBAAA6C,SAAAC,OAEAD,QAAAC,UAKA3D,MAGA2B,EAAAS,UAAAwB,GAAAjC,EAAAS,UAAAiB,YAEA1B,EAAAS,UAAAyB,KAAA,SAAAnB,EAAAY,GAMA,QAAAnE,KACAa,KAAA8D,eAAApB,EAAAvD,GAEA4E,IACAA,GAAA,EACAT,EAAAF,MAAApD,KAAAiD,YAVA,IAAAlB,EAAAuB,GACA,KAAAd,WAAA,8BAEA,IAAAuB,IAAA,CAcA,OAHA5E,GAAAmE,SAAAA,EACAtD,KAAA4D,GAAAlB,EAAAvD,GAEAa,MAIA2B,EAAAS,UAAA0B,eAAA,SAAApB,EAAAY,GACA,GAAAU,GAAAC,EAAApD,EAAAL,CAEA,KAAAuB,EAAAuB,GACA,KAAAd,WAAA,8BAEA,KAAAxC,KAAA4B,UAAA5B,KAAA4B,QAAAc,GACA,MAAA1C,KAMA,IAJAgE,EAAAhE,KAAA4B,QAAAc,GACA7B,EAAAmD,EAAAnD,OACAoD,EAAA,GAEAD,IAAAV,GACAvB,EAAAiC,EAAAV,WAAAU,EAAAV,WAAAA,QACAtD,MAAA4B,QAAAc,GACA1C,KAAA4B,QAAAkC,gBACA9D,KAAAyC,KAAA,iBAAAC,EAAAY,OAEA,IAAApB,EAAA8B,GAAA,CACA,IAAAxD,EAAAK,EAAAL,KAAA,GACA,GAAAwD,EAAAxD,KAAA8C,GACAU,EAAAxD,GAAA8C,UAAAU,EAAAxD,GAAA8C,WAAAA,EAAA,CACAW,EAAAzD,CACA,OAIA,GAAA,EAAAyD,EACA,MAAAjE,KAEA,KAAAgE,EAAAnD,QACAmD,EAAAnD,OAAA,QACAb,MAAA4B,QAAAc,IAEAsB,EAAAE,OAAAD,EAAA,GAGAjE,KAAA4B,QAAAkC,gBACA9D,KAAAyC,KAAA,iBAAAC,EAAAY,GAGA,MAAAtD,OAGA2B,EAAAS,UAAA+B,mBAAA,SAAAzB,GACA,GAAA0B,GAAArB,CAEA,KAAA/C,KAAA4B,QACA,MAAA5B,KAGA,KAAAA,KAAA4B,QAAAkC,eAKA,MAJA,KAAAb,UAAApC,OACAb,KAAA4B,WACA5B,KAAA4B,QAAAc,UACA1C,MAAA4B,QAAAc,GACA1C,IAIA,IAAA,IAAAiD,UAAApC,OAAA,CACA,IAAAuD,IAAApE,MAAA4B,QACA,mBAAAwC,GACApE,KAAAmE,mBAAAC,EAIA,OAFApE,MAAAmE,mBAAA,kBACAnE,KAAA4B,WACA5B,KAKA,GAFA+C,EAAA/C,KAAA4B,QAAAc,GAEAX,EAAAgB,GACA/C,KAAA8D,eAAApB,EAAAK,OACA,IAAAA,EAEA,KAAAA,EAAAlC,QACAb,KAAA8D,eAAApB,EAAAK,EAAAA,EAAAlC,OAAA,GAIA,cAFAb,MAAA4B,QAAAc,GAEA1C,MAGA2B,EAAAS,UAAAW,UAAA,SAAAL,GACA,GAAA2B,EAOA,OAHAA,GAHArE,KAAA4B,SAAA5B,KAAA4B,QAAAc,GAEAX,EAAA/B,KAAA4B,QAAAc,KACA1C,KAAA4B,QAAAc,IAEA1C,KAAA4B,QAAAc,GAAAS,YAIAxB,EAAAS,UAAAkC,cAAA,SAAA5B,GACA,GAAA1C,KAAA4B,QAAA,CACA,GAAA2C,GAAAvE,KAAA4B,QAAAc,EAEA,IAAAX,EAAAwC,GACA,MAAA,EACA,IAAAA,EACA,MAAAA,GAAA1D,OAEA,MAAA,IAGAc,EAAA2C,cAAA,SAAAE,EAAA9B,GACA,MAAA8B,GAAAF,cAAA5B,SDuDM+B,GAAG,SAASnF,EAAQK,EAAOD,GE/UjC,kBAAAgF,QAAAC,OAEAhF,EAAAD,QAAA,SAAAkF,EAAAC,GACAD,EAAAE,OAAAD,EACAD,EAAAxC,UAAAsC,OAAAC,OAAAE,EAAAzC,WACA2C,aACAC,MAAAJ,EACAK,YAAA,EACAC,UAAA,EACAC,cAAA,MAMAxF,EAAAD,QAAA,SAAAkF,EAAAC,GACAD,EAAAE,OAAAD,CACA,IAAAO,GAAA,YACAA,GAAAhD,UAAAyC,EAAAzC,UACAwC,EAAAxC,UAAA,GAAAgD,GACAR,EAAAxC,UAAA2C,YAAAH,QFoVMS,GAAG,SAAS/F,EAAQK,EAAOD,GGhWjC,QAAA4F,KACAC,GAAA,EACAC,EAAA3E,OACA4E,EAAAD,EAAAE,OAAAD,GAEAE,EAAA,GAEAF,EAAA5E,QACA+E,IAIA,QAAAA,KACA,IAAAL,EAAA,CAGA,GAAAM,GAAAC,WAAAR,EACAC,IAAA,CAGA,KADA,GAAA1C,GAAA4C,EAAA5E,OACAgC,GAAA,CAGA,IAFA2C,EAAAC,EACAA,OACAE,EAAA9C,GACA2C,GACAA,EAAAG,GAAAI,KAGAJ,GAAA,GACA9C,EAAA4C,EAAA5E,OAEA2E,EAAA,KACAD,GAAA,EACAS,aAAAH,IAiBA,QAAAI,GAAAC,EAAAC,GACAnG,KAAAkG,IAAAA,EACAlG,KAAAmG,MAAAA,EAYA,QAAAC,MAtEA,GAGAZ,GAHAa,EAAA1G,EAAAD,WACA+F,KACAF,GAAA,EAEAI,EAAA,EAsCAU,GAAAC,SAAA,SAAAJ,GACA,GAAApD,GAAA,GAAAI,OAAAD,UAAApC,OAAA,EACA,IAAAoC,UAAApC,OAAA,EACA,IAAA,GAAAL,GAAA,EAAAA,EAAAyC,UAAApC,OAAAL,IACAsC,EAAAtC,EAAA,GAAAyC,UAAAzC,EAGAiF,GAAAnE,KAAA,GAAA2E,GAAAC,EAAApD,IACA,IAAA2C,EAAA5E,QAAA0E,GACAO,WAAAF,EAAA,IASAK,EAAA7D,UAAA2D,IAAA,WACA/F,KAAAkG,IAAA9C,MAAA,KAAApD,KAAAmG,QAEAE,EAAAE,MAAA,UACAF,EAAAG,SAAA,EACAH,EAAAI,OACAJ,EAAAK,QACAL,EAAAM,QAAA,GACAN,EAAAO,YAIAP,EAAAzC,GAAAwC,EACAC,EAAAhD,YAAA+C,EACAC,EAAAxC,KAAAuC,EACAC,EAAAQ,IAAAT,EACAC,EAAAvC,eAAAsC,EACAC,EAAAlC,mBAAAiC,EACAC,EAAA5D,KAAA2D,EAEAC,EAAAS,QAAA,SAAAvH,GACA,KAAA,IAAAkB,OAAA,qCAGA4F,EAAAU,IAAA,WAAA,MAAA,KACAV,EAAAW,MAAA,SAAAC,GACA,KAAA,IAAAxG,OAAA,mCAEA4F,EAAAa,MAAA,WAAA,MAAA,SH2WMC,GAAG,SAAS7H,EAAQK,EAAOD,GIrcjCC,EAAAD,QAAA,SAAAsC,GACA,MAAAA,IAAA,gBAAAA,IACA,kBAAAA,GAAAoF,MACA,kBAAApF,GAAAqF,MACA,kBAAArF,GAAAsF,gBJwcMC,GAAG,SAASjI,EAAQK,EAAOD,IACjC,SAAW2G,EAAQmB,GKjVnB,QAAAC,GAAAC,EAAAC,GAEA,GAAAC,IACAC,QACAC,QAAAC,EAkBA,OAfA9E,WAAApC,QAAA,IAAA+G,EAAAI,MAAA/E,UAAA,IACAA,UAAApC,QAAA,IAAA+G,EAAAK,OAAAhF,UAAA,IACAiF,EAAAP,GAEAC,EAAAO,WAAAR,EACAA,GAEAjI,EAAA0I,QAAAR,EAAAD,GAGAxF,EAAAyF,EAAAO,cAAAP,EAAAO,YAAA,GACAhG,EAAAyF,EAAAI,SAAAJ,EAAAI,MAAA,GACA7F,EAAAyF,EAAAK,UAAAL,EAAAK,QAAA,GACA9F,EAAAyF,EAAAS,iBAAAT,EAAAS,eAAA,GACAT,EAAAK,SAAAL,EAAAE,QAAAQ,GACAC,EAAAX,EAAAF,EAAAE,EAAAI,OAoCA,QAAAM,GAAAE,EAAAC,GACA,GAAAC,GAAAjB,EAAAkB,OAAAF,EAEA,OAAAC,GACA,KAAAjB,EAAAQ,OAAAS,GAAA,GAAA,IAAAF,EACA,KAAAf,EAAAQ,OAAAS,GAAA,GAAA,IAEAF,EAKA,QAAAT,GAAAS,EAAAC,GACA,MAAAD,GAIA,QAAAI,GAAAzC,GACA,GAAA0C,KAMA,OAJA1C,GAAA2C,QAAA,SAAAC,EAAAC,GACAH,EAAAE,IAAA,IAGAF,EAIA,QAAAN,GAAAX,EAAA5C,EAAAiE,GAGA,GAAArB,EAAAS,eACArD,GACAjD,EAAAiD,EAAAyC,UAEAzC,EAAAyC,UAAA/H,EAAA+H,WAEAzC,EAAAD,aAAAC,EAAAD,YAAA3C,YAAA4C,GAAA,CACA,GAAAX,GAAAW,EAAAyC,QAAAwB,EAAArB,EAIA,OAHAsB,GAAA7E,KACAA,EAAAkE,EAAAX,EAAAvD,EAAA4E,IAEA5E,EAIA,GAAA8E,GAAAC,EAAAxB,EAAA5C,EACA,IAAAmE,EACA,MAAAA,EAIA,IAAAE,GAAA3E,OAAA2E,KAAArE,GACAsE,EAAAV,EAAAS,EAQA,IANAzB,EAAAO,aACAkB,EAAA3E,OAAA6E,oBAAAvE,IAKAwE,EAAAxE,KACAqE,EAAAI,QAAA,YAAA,GAAAJ,EAAAI,QAAA,gBAAA,GACA,MAAAC,GAAA1E,EAIA,IAAA,IAAAqE,EAAAxI,OAAA,CACA,GAAAkB,EAAAiD,GAAA,CACA,GAAAzF,GAAAyF,EAAAzF,KAAA,KAAAyF,EAAAzF,KAAA,EACA,OAAAqI,GAAAE,QAAA,YAAAvI,EAAA,IAAA,WAEA,GAAAoK,EAAA3E,GACA,MAAA4C,GAAAE,QAAA8B,OAAAxH,UAAAyH,SAAAjJ,KAAAoE,GAAA,SAEA,IAAA8E,EAAA9E,GACA,MAAA4C,GAAAE,QAAAiC,KAAA3H,UAAAyH,SAAAjJ,KAAAoE,GAAA,OAEA,IAAAwE,EAAAxE,GACA,MAAA0E,GAAA1E,GAIA,GAAAgF,GAAA,GAAA7D,GAAA,EAAA8D,GAAA,IAAA,IASA,IANAC,EAAAlF,KACAmB,GAAA,EACA8D,GAAA,IAAA,MAIAlI,EAAAiD,GAAA,CACA,GAAA7E,GAAA6E,EAAAzF,KAAA,KAAAyF,EAAAzF,KAAA,EACAyK,GAAA,aAAA7J,EAAA,IAkBA,GAdAwJ,EAAA3E,KACAgF,EAAA,IAAAJ,OAAAxH,UAAAyH,SAAAjJ,KAAAoE,IAIA8E,EAAA9E,KACAgF,EAAA,IAAAD,KAAA3H,UAAA+H,YAAAvJ,KAAAoE,IAIAwE,EAAAxE,KACAgF,EAAA,IAAAN,EAAA1E,IAGA,IAAAqE,EAAAxI,UAAAsF,GAAA,GAAAnB,EAAAnE,QACA,MAAAoJ,GAAA,GAAAD,EAAAC,EAAA,EAGA,IAAA,EAAAhB,EACA,MAAAU,GAAA3E,GACA4C,EAAAE,QAAA8B,OAAAxH,UAAAyH,SAAAjJ,KAAAoE,GAAA,UAEA4C,EAAAE,QAAA,WAAA,UAIAF,GAAAC,KAAAvG,KAAA0D,EAEA,IAAAoF,EAWA,OATAA,GADAjE,EACAkE,EAAAzC,EAAA5C,EAAAiE,EAAAK,EAAAD,GAEAA,EAAAiB,IAAA,SAAAlG,GACA,MAAAmG,GAAA3C,EAAA5C,EAAAiE,EAAAK,EAAAlF,EAAA+B,KAIAyB,EAAAC,KAAA2C,MAEAC,EAAAL,EAAAJ,EAAAC,GAIA,QAAAb,GAAAxB,EAAA5C,GACA,GAAA7C,EAAA6C,GACA,MAAA4C,GAAAE,QAAA,YAAA,YACA,IAAAoB,EAAAlE,GAAA,CACA,GAAA0F,GAAA,IAAAC,KAAAC,UAAA5F,GAAA6F,QAAA,SAAA,IACAA,QAAA,KAAA,OACAA,QAAA,OAAA,KAAA,GACA,OAAAjD,GAAAE,QAAA4C,EAAA,UAEA,MAAAzI,GAAA+C,GACA4C,EAAAE,QAAA,GAAA9C,EAAA,UACAkD,EAAAlD,GACA4C,EAAAE,QAAA,GAAA9C,EAAA,WAEA8F,EAAA9F,GACA4C,EAAAE,QAAA,OAAA,QADA,OAKA,QAAA4B,GAAA1E,GACA,MAAA,IAAAvE,MAAA2B,UAAAyH,SAAAjJ,KAAAoE,GAAA,IAIA,QAAAqF,GAAAzC,EAAA5C,EAAAiE,EAAAK,EAAAD,GAEA,IAAA,GADAe,MACA5J,EAAA,EAAAG,EAAAqE,EAAAnE,OAAAF,EAAAH,IAAAA,EACAuK,EAAA/F,EAAAgG,OAAAxK,IACA4J,EAAA9I,KAAAiJ,EAAA3C,EAAA5C,EAAAiE,EAAAK,EACA0B,OAAAxK,IAAA,IAEA4J,EAAA9I,KAAA,GASA,OANA+H,GAAAP,QAAA,SAAA1E,GACAA,EAAA6G,MAAA,UACAb,EAAA9I,KAAAiJ,EAAA3C,EAAA5C,EAAAiE,EAAAK,EACAlF,GAAA,MAGAgG,EAIA,QAAAG,GAAA3C,EAAA5C,EAAAiE,EAAAK,EAAAlF,EAAA+B,GACA,GAAA5G,GAAAiJ,EAAA0C,CAsCA,IArCAA,EAAAxG,OAAAyG,yBAAAnG,EAAAZ,KAAAY,MAAAA,EAAAZ,IACA8G,EAAAE,IAEA5C,EADA0C,EAAAG,IACAzD,EAAAE,QAAA,kBAAA,WAEAF,EAAAE,QAAA,WAAA,WAGAoD,EAAAG,MACA7C,EAAAZ,EAAAE,QAAA,WAAA,YAGAiD,EAAAzB,EAAAlF,KACA7E,EAAA,IAAA6E,EAAA,KAEAoE,IACAZ,EAAAC,KAAA4B,QAAAyB,EAAAlG,OAAA,GAEAwD,EADAsC,EAAA7B,GACAV,EAAAX,EAAAsD,EAAAlG,MAAA,MAEAuD,EAAAX,EAAAsD,EAAAlG,MAAAiE,EAAA,GAEAT,EAAAiB,QAAA,MAAA,KAEAjB,EADArC,EACAqC,EAAA8C,MAAA,MAAAhB,IAAA,SAAAiB,GACA,MAAA,KAAAA,IACAC,KAAA,MAAAC,OAAA,GAEA,KAAAjD,EAAA8C,MAAA,MAAAhB,IAAA,SAAAiB,GACA,MAAA,MAAAA,IACAC,KAAA,QAIAhD,EAAAZ,EAAAE,QAAA,aAAA,YAGA3F,EAAA5C,GAAA,CACA,GAAA4G,GAAA/B,EAAA6G,MAAA,SACA,MAAAzC,EAEAjJ,GAAAoL,KAAAC,UAAA,GAAAxG,GACA7E,EAAA0L,MAAA,iCACA1L,EAAAA,EAAAkM,OAAA,EAAAlM,EAAAsB,OAAA,GACAtB,EAAAqI,EAAAE,QAAAvI,EAAA,UAEAA,EAAAA,EAAAsL,QAAA,KAAA,OACAA,QAAA,OAAA,KACAA,QAAA,WAAA,KACAtL,EAAAqI,EAAAE,QAAAvI,EAAA,WAIA,MAAAA,GAAA,KAAAiJ,EAIA,QAAAiC,GAAAL,EAAAJ,EAAAC,GACA,GAAAyB,GAAA,EACA7K,EAAAuJ,EAAAuB,OAAA,SAAAC,EAAAC,GAGA,MAFAH,KACAG,EAAApC,QAAA,OAAA,GAAAiC,IACAE,EAAAC,EAAAhB,QAAA,kBAAA,IAAAhK,OAAA,GACA,EAEA,OAAAA,GAAA,GACAoJ,EAAA,IACA,KAAAD,EAAA,GAAAA,EAAA,OACA,IACAI,EAAAoB,KAAA,SACA,IACAvB,EAAA,GAGAA,EAAA,GAAAD,EAAA,IAAAI,EAAAoB,KAAA,MAAA,IAAAvB,EAAA,GAMA,QAAAC,GAAA4B,GACA,MAAA5I,OAAAgH,QAAA4B,GAIA,QAAA5D,GAAAlG,GACA,MAAA,iBAAAA,GAIA,QAAA8I,GAAA9I,GACA,MAAA,QAAAA,EAIA,QAAA+J,GAAA/J,GACA,MAAA,OAAAA,EAIA,QAAAC,GAAAD,GACA,MAAA,gBAAAA,GAIA,QAAAkH,GAAAlH,GACA,MAAA,gBAAAA,GAIA,QAAAgK,GAAAhK,GACA,MAAA,gBAAAA,GAIA,QAAAG,GAAAH,GACA,MAAA,UAAAA,EAIA,QAAA2H,GAAAsC,GACA,MAAA/J,GAAA+J,IAAA,oBAAAC,EAAAD,GAIA,QAAA/J,GAAAF,GACA,MAAA,gBAAAA,IAAA,OAAAA,EAIA,QAAA8H,GAAAqC,GACA,MAAAjK,GAAAiK,IAAA,kBAAAD,EAAAC,GAIA,QAAA3C,GAAAvJ,GACA,MAAAiC,GAAAjC,KACA,mBAAAiM,EAAAjM,IAAAA,YAAAQ,QAIA,QAAAsB,GAAAC,GACA,MAAA,kBAAAA,GAIA,QAAAoK,GAAApK,GACA,MAAA,QAAAA,GACA,iBAAAA,IACA,gBAAAA,IACA,gBAAAA,IACA,gBAAAA,IACA,mBAAAA,GAMA,QAAAkK,GAAA7L,GACA,MAAAqE,QAAAtC,UAAAyH,SAAAjJ,KAAAP,GAIA,QAAAgM,GAAAlM,GACA,MAAA,IAAAA,EAAA,IAAAA,EAAA0J,SAAA,IAAA1J,EAAA0J,SAAA,IAQA,QAAAyC,KACA,GAAAH,GAAA,GAAApC,MACAwC,GAAAF,EAAAF,EAAAK,YACAH,EAAAF,EAAAM,cACAJ,EAAAF,EAAAO,eAAAlB,KAAA,IACA,QAAAW,EAAAQ,UAAAC,EAAAT,EAAAU,YAAAN,GAAAf,KAAA,KAqCA,QAAAT,GAAArD,EAAAoF,GACA,MAAApI,QAAAtC,UAAA2I,eAAAnK,KAAA8G,EAAAoF,GAnjBA,GAAAC,GAAA,UACArN,GAAAsN,OAAA,SAAA5N,GACA,IAAA8J,EAAA9J,GAAA,CAEA,IAAA,GADA6N,MACAzM,EAAA,EAAAA,EAAAyC,UAAApC,OAAAL,IACAyM,EAAA3L,KAAAmG,EAAAxE,UAAAzC,IAEA,OAAAyM,GAAAzB,KAAA,KAsBA,IAAA,GAnBAhL,GAAA,EACAsC,EAAAG,UACAJ,EAAAC,EAAAjC,OACA2H,EAAAwC,OAAA5L,GAAAyL,QAAAkC,EAAA,SAAAG,GACA,GAAA,OAAAA,EAAA,MAAA,GACA,IAAA1M,GAAAqC,EAAA,MAAAqK,EACA,QAAAA,GACA,IAAA,KAAA,MAAAlC,QAAAlI,EAAAtC,KACA,KAAA,KAAA,MAAA2M,QAAArK,EAAAtC,KACA,KAAA,KACA,IACA,MAAAmK,MAAAC,UAAA9H,EAAAtC,MACA,MAAA4M,GACA,MAAA,aAEA,QACA,MAAAF,MAGAA,EAAApK,EAAAtC,GAAAqC,EAAArC,EAAA0M,EAAApK,IAAAtC,GAEAgI,GADAsC,EAAAoC,KAAAhL,EAAAgL,GACA,IAAAA,EAEA,IAAAzF,EAAAyF,EAGA,OAAA1E,IAOA9I,EAAA2N,UAAA,SAAApM,EAAAqM,GAaA,QAAAC,KACA,IAAA9J,EAAA,CACA,GAAA4C,EAAAmH,iBACA,KAAA,IAAA/M,OAAA6M,EACAjH,GAAAoH,iBACA/J,QAAAC,MAAA2J,GAEA5J,QAAAV,MAAAsK,GAEA7J,GAAA,EAEA,MAAAxC,GAAAmC,MAAApD,KAAAiD,WAtBA,GAAAd,EAAAqF,EAAAnB,SACA,MAAA,YACA,MAAA3G,GAAA2N,UAAApM,EAAAqM,GAAAlK,MAAApD,KAAAiD,WAIA,IAAAoD,EAAAqH,iBAAA,EACA,MAAAzM,EAGA,IAAAwC,IAAA,CAeA,OAAA8J,GAIA,IACAI,GADAC,IAEAlO,GAAAmO,SAAA,SAAAxC,GAIA,GAHAlJ,EAAAwL,KACAA,EAAAtH,EAAAI,IAAAqH,YAAA,IACAzC,EAAAA,EAAA0C,eACAH,EAAAvC,GACA,GAAA,GAAAzB,QAAA,MAAAyB,EAAA,MAAA,KAAA2C,KAAAL,GAAA,CACA,GAAAM,GAAA5H,EAAA4H,GACAL,GAAAvC,GAAA,WACA,GAAAiC,GAAA5N,EAAAsN,OAAA5J,MAAA1D,EAAAuD,UACAS,SAAAV,MAAA,YAAAqI,EAAA4C,EAAAX,QAGAM,GAAAvC,GAAA,YAGA,OAAAuC,GAAAvC,IAoCA3L,EAAA+H,QAAAA,EAIAA,EAAAQ,QACAiG,MAAA,EAAA,IACAC,QAAA,EAAA,IACAC,WAAA,EAAA,IACAC,SAAA,EAAA,IACAC,OAAA,GAAA,IACAC,MAAA,GAAA,IACAC,OAAA,GAAA,IACAC,MAAA,GAAA,IACAC,MAAA,GAAA,IACAC,OAAA,GAAA,IACAC,SAAA,GAAA,IACAC,KAAA,GAAA,IACAC,QAAA,GAAA,KAIArH,EAAAkB,QACAoG,QAAA,OACAC,OAAA,SACAC,UAAA,SACAnN,UAAA,OACAoN,OAAA,OACAC,OAAA,QACAC,KAAA,UAEAC,OAAA,OAkRA3P,EAAAwK,QAAAA,EAKAxK,EAAAwI,UAAAA,EAKAxI,EAAAoL,OAAAA,EAKApL,EAAAqM,kBAAAA,EAKArM,EAAAuC,SAAAA,EAKAvC,EAAAwJ,SAAAA,EAKAxJ,EAAAsM,SAAAA,EAKAtM,EAAAyC,YAAAA,EAKAzC,EAAAiK,SAAAA,EAKAjK,EAAAwC,SAAAA,EAKAxC,EAAAoK,OAAAA,EAMApK,EAAA8J,QAAAA,EAKA9J,EAAAqC,WAAAA,EAUArC,EAAA0M,YAAAA,EAEA1M,EAAA4P,SAAAhQ,EAAA,qBAYA,IAAAsN,IAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MACA,MAAA,MAAA,MAaAlN,GAAA6P,IAAA,WACA7L,QAAA6L,IAAA,UAAAjD,IAAA5M,EAAAsN,OAAA5J,MAAA1D,EAAAuD,aAiBAvD,EAAA8P,SAAAlQ,EAAA,YAEAI,EAAA0I,QAAA,SAAAqH,EAAAC,GAEA,IAAAA,IAAAxN,EAAAwN,GAAA,MAAAD,EAIA,KAFA,GAAApG,GAAA3E,OAAA2E,KAAAqG,GACAlP,EAAA6I,EAAAxI,OACAL,KACAiP,EAAApG,EAAA7I,IAAAkP,EAAArG,EAAA7I,GAEA,OAAAiP,MLqdG7O,KAAKZ,KAAKV,EAAQ,YAA8B,mBAAXkI,QAAyBA,OAAyB,mBAATmI,MAAuBA,KAAyB,mBAAXC,QAAyBA,aAE5IC,qBAAqB,EAAEC,SAAW,EAAEN,SAAW,IAAIO,GAAG,SAASzQ,EAAQK,EAAOD,GMjgCjF,QAAAsB,GAAAgP,GACAA,EAAAA,GAAA,GACAhQ,KAAAgQ,OAAAA,EAAAC,OACAjQ,KAAAkQ,WACAlQ,KAAAmQ,QACAnQ,KAAAgB,SAAAA,EA3BA,GAAAD,GAAAzB,EAAA,UACA8Q,EAAA9Q,EAAA,WACA+Q,EAAA/Q,EAAA,eAMAK,GAAAD,QAAAsB,EAMAA,EAAAqP,WAAAA,CAoBA,IAAApP,GAAAD,EAAAoB,SAQAnB,GAAAqP,UAAA,SAAAN,GACAhQ,KAAAgQ,OAAAA,EAAAC,QAUAhP,EAAAsP,MAAA,SAAAJ,EAAAD,GACAC,IAAAnQ,KAAAmQ,KAAAA,GACAD,IAAAlQ,KAAAkQ,QAAAA,EAEA,IAAAP,GAAA3P,KACAwQ,EAAAzP,EAAAA,EAAA0P,UAAAzQ,KAAAgQ,SACAU,EAAA3P,EAAA,QAUA,OARAyP,GAAAG,SAAAD,GAEAA,EAAAE,KAAA,KAAAvP,KAAA,WACA,GAAAwP,GAAA9P,EAAAf,KACA6Q,GAAAC,UAAAC,OAAAC,GAAAN,IACAf,EAAAsB,gBAAAJ,EAAAH,KAGA1Q,KAAAkR,SAAAR,EAAAS,QAAAtG,QAAA,eAAA,KASA5J,EAAAmQ,QAAA,SAAAC,EAAAnB,GACAA,EAAAA,GAAAlQ,KAAAkQ,OACA,IAAAC,GAAAnQ,KAAAmQ,KACA9G,EAAA3E,OAAA2E,KAAA8G,GACAmB,EAAAvQ,EAAAuJ,IAAA6F,EAAA,SAAApH,EAAA3E,GACA,MAAArD,GAAAmJ,QAAAnB,IAAAA,GACAA,IAEA9H,EAAA,GAAAsQ,UAAAlI,EAAA,UAAAgI,GACAhN,EAAA,EAEA,KACAA,EAAApD,EAAAmC,MAAA8M,EAAAoB,GACA,MAAArR,GACAyD,QAAAV,MAAA,iBAAA/C,GAGA,MAAAoE,IASApD,EAAAiQ,SAAA,SAAA1I,GACA,GAAAmH,GAAA3P,KAEAiB,EAAA,SAAAV,EAAAiR,GACA,GAAAnN,GAAAsL,EAAAyB,QAAAI,EAUA,OARAzQ,GAAA0Q,cAAApN,KACAA,EAAAsG,KAAAC,UAAAvG,EAAA,KAAA,IAGAtD,EAAAgB,WAAAsC,KACAA,EAAAA,EAAAwF,YAGAxF,GAGAqN,EAAAlJ,EAAAqC,QAAA,gBAAA,SAAAtK,EAAAiR,GACA,MAAApB,GAAAuB,OAAA1Q,EAAAV,EAAAiR,KAKA,OAFAE,GAAAA,EAAA7G,QAAA,iBAAA5J,IAYAA,EAAAgQ,gBAAA,SAAAW,EAAAlB,GACA,GAAAf,GAAA3P,KACA6R,EAAAzB,EAAA0B,SAAAF,GACAvB,EAAA3L,OAAA2E,KAAArI,EAAAqP,WAGAwB,GAAA,aACA7Q,EAAAqP,WAAA0B,OAAAnR,KAAA+O,EAAAiC,EAAAC,EAAA,WAAAA,GACAD,EAAAI,WAAA,iBACAH,GAAA,YAGA9Q,EAAAM,KAAAwQ,EAAA,SAAAzN,EAAA2E,GACA6I,EAAAd,UAAAC,OAAAC,GAAAN,IAEA,OAAA1C,KAAA5J,IAAA,KAAAiM,EAAA5G,QAAArF,EAAAyG,QAAA,IAAA,OACA7J,EAAAqP,WAAAjM,EAAAyG,QAAA,IAAA,KAAAjK,KAAA+O,EAAAiC,EAAA7I,EAAA8I,GACAD,EAAAI,WAAA5N,OAYApD,EAAAiR,aAAA,SAAA1S,EAAA0B,GACAD,EAAAqP,WAAA9Q,GAAA0B,KN+hCGiR,eAAe,EAAEC,UAAU,GAAG3S,OAAS,WAAW4S,GAAG,SAAS9S,EAAQK,EAAOD,GO9pChF,QAAAK,GAAA6R,EAAAzQ,GACA,GAAAwO,GAAA3P,IACAA,MAAA4R,IAAAA,EACA5R,KAAAqS,aAAAT,EAAAT,OACAnR,KAAAsS,SAAAvR,EAAAwR,UAAAxS,EAAAyS,SAAArR,GACAnB,KAAAyS,UAEA1R,EAAAM,KAAArB,KAAAsS,SAAA,SAAAlO,EAAAsO,GACA,KAAAhO,OAAA2E,KAAAtJ,EAAAyS,UAAA/I,QAAArF,KACAuL,EAAAvL,GAAAsO,KAGA1S,KAAA6R,MAAA9Q,EAAAwR,UAAAvS,KAAAsS,SAAAT,MAAAzB,EAAA0B,SAAAF,IACA5R,KAAA2S,oBAEA5R,EAAA6R,KAAA5S,KAAA6S,mBAAA7S,KAAA8S,gBACAC,KAAA,SAAAC,EAAAC,GACAlS,EAAAwR,OAAA5C,EAAA8C,OAAAO,GACArD,EAAAuD,gBAAAD,EACAtD,EAAAwD,UAAA,GAAAnS,GAAAiS,GACAtD,EAAAlN,KAAA,mBACAkN,EAAAyD,WAEAC,KAAA,SAAAC,GACA5P,QAAAV,MAAAsQ,KAhEA,GAAAvS,GAAAzB,EAAA,UACAqC,EAAArC,EAAA,UAAAqC,aACA6N,EAAAlQ,EAAA,QAAAkQ,SACAxO,EAAA1B,EAAA,cACA8Q,EAAA9Q,EAAA,UAMAK,GAAAD,QAAAK,CAMA,IAAAwT,KAMAxT,GAAAyS,UACAQ,SACAC,SAAA,GACAO,YAAA,GACAC,aAAA1S,EAAAqF,KACAsN,YAAA3S,EAAAqF,KACAuN,OAAA,KACA9B,UA2CArC,EAAAzP,EAAA4B,EAMA,IAAAV,GAAAlB,EAAAqC,SAQAnB,GAAA4R,iBAAA,WACA,GAAAG,GAAAhT,KAAAsS,SAAAU,KAKA,IAJAA,EAAAjS,EAAAgB,WAAAiR,GACAA,EAAApS,KAAAZ,MACAgT,EAEAA,EAAAY,QAAA,CACA,GAAAC,GAAA9S,EAAA+S,UAMA,OAJAd,GAAAD,KAAA,SAAAgB,GACAF,EAAAG,QAAAD,KACAV,KAAAQ,EAAAI,QAEAJ,EAAAD,UAGA,MAAAZ,IAUA/R,EAAAiT,SAAA,SAAAxM,GACA,MAAA1H,MAAAyS,QAUAxR,EAAAkT,SAAA,WAQA,MAPA,KAAAlR,UAAApC,OACAb,KAAAyS,OAAA1R,EAAAwR,OAAAvS,KAAAyS,OAAAxP,UAAA,IAEAjD,KAAAyS,OAAAxP,UAAA,IAAAA,UAAA,GAGAjD,KAAAyC,KAAA,eAAAzC,KAAAkU,YACAlU,MAWAiB,EAAAmT,iBAAA,SAAAC,GACA,GAAA1E,GAAA3P,KAEAwS,GACA8B,IAAA,KACAC,OAAA,MACAvB,MAAA,KACAwB,SAAA,KACAjT,KAAA,KAGA8S,GAAAtT,EAAAwR,UAAAC,EAAA6B,EAEA,IAAAR,GAAA9S,EAAA+S,UA0BA,OAxBA/S,GAAA0T,MACAH,IAAAD,EAAAC,IACApE,QAAAP,EACA4E,OAAAF,EAAAE,OAAAxG,cACAxM,KAAA8S,EAAA9S,KACAmT,SAAA,SAEA3B,KAAA,SAAAgB,GACAM,EAAAG,WACAT,EAAAA,EAAAM,EAAAG,WAGAH,EAAArB,MACAhT,KAAAmU,SAAAE,EAAArB,MAAAe,GAEA/T,KAAAmU,SAAAJ,GAGAF,EAAAc,YAAA3U,QAEAqT,KAAA,SAAAC,GACAO,EAAAe,WAAA5U,KAAAsT,KAGAO,EAAAD,WAWA3S,EAAA4T,gBAAA,SAAA/H,EAAApF,GACA,GAAAsL,GAAAhT,KAAAkU,WAAApH,GACAgI,EAAA9B,EAAAvJ,QAAA/B,EACA,MAAAoN,IACA9B,EAAA9O,OAAA4Q,EAAA,GACA9U,KAAAmU,SAAArH,EAAAkG,KAWA/R,EAAA8T,gBAAA,SAAAjI,EAAAkI,GACA,GAAAhC,GAAAhT,KAAAkU,WAAApH,EACAkG,GAAA1R,KAAA0T,GACAhV,KAAAmU,SAAArH,EAAAkG,IAYA/R,EAAAgU,gBAAA,SAAAnI,EAAAkI,EAAAtN,GACA,GAAAsL,GAAAhT,KAAAkU,WAAApH,GACAgI,EAAA9B,EAAAvJ,QAAAuL,EACA,MAAAF,IACA9B,EAAA9O,OAAA4Q,EAAA,EAAA/T,EAAAwR,UAAAyC,EAAAtN,IACA1H,KAAAmU,SAAArH,EAAAkG,KAcA/R,EAAA6R,aAAA,WACA,GAAA3R,GAAAnB,KAAAsS,SACAV,EAAA5R,KAAA4R,GAEA,IAAAzQ,EAAAqS,YAAA,MAAAxT,MAAAkV,sBAEA,IAAArB,GAAA9S,EAAA+S,UAEA,IAAA3S,EAAA8R,SACAY,EAAAG,QAAApC,EAAAT,KAAAhQ,EAAA8R,UAAAnG,KAAA,kBACA,CACA,GAAAkD,GAAA4B,EAAA9E,KAAA,YACA+G,GAAAG,QAAAhE,GAGA,MAAA6D,GAAAD,WAUA3S,EAAAiU,qBAAA,WACA,GAAAvF,GAAA3P,KACAsU,EAAAtU,KAAAsS,SAAAkB,YACAK,EAAA9S,EAAA+S,UAeA,OAbAP,GAAAe,GACAT,EAAAG,QAAAT,EAAAe,IAEAvT,EAAAqK,IAAAkJ,GACAvB,KAAA,SAAAgB,GACAR,EAAAe,GAAAP,EACApE,EAAAiC,IAAAT,KAAA4C,GACAA,EAAApE,EAAAiC,IAAA9E,KAAA,aACA+G,EAAAG,QAAAD,KAEAV,KAAAQ,EAAAI,QAGAJ,EAAAD,WAWA3S,EAAAkU,QAAA,WACA,GAAAvD,GAAA5R,KAAA4R,IACAwD,EAAApV,KAAAkU,WACAjB,EAAAjT,KAAAmT,SAEAnT,MAAAyC,KAAA,gBAAAmP,EAAAwD,GAGArU,EAAAM,KAAArB,KAAA2S,iBAAA,SAAAmC,EAAAO,GACA,GAAAC,GAAA,8BAAAR,EAAA,IACAlD,GACA2D,OAAAD,GACA5F,IAAAkC,EAAAhB,KAAA0E,IACAzO,IAAAwO,EAAA3S,QAGA1C,KAAA2S,mBAEA,IAAAxB,GAAA8B,EAAA1C,MAAA6E,EAAApV,MACAwV,EAAAzU,EAAAoQ,EAEAS,GAAA6D,YAAAD,GAEAxV,KAAA4R,IAAAA,EAAA4D,EAGAzU,EAAAM,KAAArB,KAAA2S,iBAAA,SAAAmC,EAAAO,GACA,GAAAC,GAAA,8BAAAR,EAAA,IACAlD,GACA2D,OAAAD,GACA5F,IAAAkC,EAAAhB,KAAA0E,IACA1R,GAAAyR,EAAA3S,KAAA2S,EAAAK,YAGA1V,KAAA2V,mBAAA/D,GAEA5R,KAAAyC,KAAA,eAAAmP,EAAAwD,IAWAnU,EAAAmS,OAAA,WACApT,KAAA4D,GAAA,eAAA5D,KAAAmV,SACAnV,KAAA4D,GAAA,gBAAA5D,KAAAsS,SAAAmB,cACAzT,KAAA4D,GAAA,eAAA5D,KAAAsS,SAAAoB,aAEA1T,KAAAsS,SAAAqB,SACA3T,KAAA4D,GAAA,gBAAA5D,KAAA4V,cACA5V,KAAA4D,GAAA,eAAA5D,KAAA6V,cAGA7V,KAAA8V,MAAA9V,KAAA8V,OACA9V,KAAAmV,UACAnV,KAAAyC,KAAA,QAAAzC,KAAA4R,MAUA3Q,EAAA8U,gBAAA,SAAAC,GACA,GAAArG,GAAA3P,IAEAe,GAAAM,KAAArB,KAAAsS,SAAAqB,OAAA,SAAAsC,EAAAC,GACAD,EAAAA,EAAA3K,MAAA,MACA,IAAAvI,GAAAkT,EAAA,GAAA3K,MAAA,KACA6K,EAAAF,EAAA,GAAAA,EAAA,GAAA3K,MAAA,MAAA,GAEAvK,GAAAM,KAAA8U,EAAA,SAAArB,EAAAQ,GACAvU,EAAAM,KAAA0B,EAAA,SAAA+R,EAAAxR,GACA0S,EAAApV,KAAA+O,EAAA2F,EAAAhS,EAAA4S,UAYAjV,EAAA2U,aAAA,WACA5V,KAAA+V,gBAAA,SAAAT,EAAAhS,EAAA4S,GACAlW,KAAA4R,IAAAhB,KAAA0E,GAAAzO,IAAAvD,MAUArC,EAAA4U,YAAA,WACA,GAAAlG,GAAA3P,IACAA,MAAA+V,gBAAA,SAAAT,EAAAhS,EAAA4S,GACA,GAAAE,GAAAd,EACAtV,KAAA4R,IAAAhB,KAAA0E,GACAtV,KAAA4R,GAEAwE,GAAAxS,GAAAN,EAAA,SAAA+R,GACAa,EAAAnV,EAAAgB,WAAAmU,GACAA,EACAvG,EAAAuG,GACAA,EAAAtV,KAAA+O,EAAA5O,EAAAf,MAAAqV,QAWApU,EAAA0U,mBAAA,SAAA/D,GACA,GAAAjC,GAAA3P,IAEAA,MAAAuB,OAEA,IAAA8U,GAAAzE,EAAAhB,KAAA,wBAEAyF,GAAAhV,KAAA,WACA,GAAAiV,GAAAvV,EAAAf,MACAuW,IAAA,WAAA,SAAA9M,QAAA6M,EAAAE,KAAA,SACAC,EAAA,WAAAH,EAAA,GAAAI,QAAAC,cACAC,EAAAN,EAAA/U,KAAA,iBAEAmD,QAAAmS,eAAAlH,EAAApO,KAAAqV,GACAxL,IAAA,WACA,MAAAmL,GAAAD,EAAAxJ,KAAA,WACA2J,EAAAH,EAAA1F,KAAA,aAAA7H,MACAuN,EAAAvN,OAEAsC,IAAA,SAAArG,GACA,MAAAuR,GAAAD,EAAAxJ,KAAA,UAAA9H,GACAyR,EACAH,EAAA1F,KAAA,WAAA5L,EAAA,MAAA8H,KAAA,YAAA,GAEAwJ,EAAAvN,IAAA/D,MAIA2K,EAAApO,KAAA,IAAAqV,GAAAN,OP+sCGQ,aAAa,EAAE3E,UAAU,GAAGwB,OAAS,EAAEnU,OAAS,SAASuX,KAAO,IAAIC,GAAG,SAAS1X,EAAQK,EAAOD,GQ5/ClG,QAAAuX,GAAArF,EAAAqE,EAAAiB,GACA,GAAAvH,GAAA3P,KACAkB,EAAAlB,KAAAkQ,QAEA+C,EAAA,GAAAtD,GAAA3O,QACAiS,GAAA/C,QAAAP,EAAAO,QACA+C,EAAA9C,KAAApP,EAAAwR,UAAA5C,EAAAQ,KAEA,IAAAlP,GAAA,SAAAoU,GACAtU,EAAAwR,OAAAU,EAAA9C,MACAiG,QAAArV,EAAAsU,EAAA8B,QACAC,OAAA/B,IAEApC,EAAA7B,QAAA8F,GAGAhW,GAAAyR,iBAAArR,MACAoB,KAAAuT,EACAP,SAAAzU,IAGA2Q,EAAA4E,KAAA,2BAAAtV,EAAAyR,iBAAA9R,OAAA,GAzKA,GAAAE,GAAAzB,EAAA,UACA8Q,EAAA9Q,EAAA,WAMA+Q,EAAA1Q,EAAAD,UAMAqB,GAAAwR,OAAAlC,GACAvQ,KAAA,SAAA8R,EAAA5M,EAAA6M,GACAD,EAAAyF,KAAArX,KAAAoR,QAAApM,KAGAsS,KAAA,SAAA1F,EAAA5M,EAAA6M,GACA7R,KAAAoR,QAAApM,IAAA4M,EAAA2F,UAGAC,KAAA,SAAA5F,EAAA5M,EAAA6M,GACA7R,KAAAoR,QAAApM,IAAA4M,EAAA2F,UAGAE,QAAA,SAAA7F,EAAA5M,EAAA6M,GACA9Q,EAAAM,KAAArB,KAAAoR,QAAApM,GAAA,SAAA0S,EAAArG,GACAA,EACAO,EAAA+F,SAAAvH,EAAAwH,UAAAF,IAEA9F,EAAAiG,YAAAH,MAKAhP,MAAA,SAAAkJ,EAAA5M,EAAA6M,GACAD,EAAAkG,IAAA9X,KAAAoR,QAAApM,OAQAqL,EAAA0B,OAAA,SAAAH,EAAA5M,EAAA6M,GACA,GAAAlC,GAAA3P,KACAgB,EAAAhB,KAAAgB,SAEAiK,EAAAjG,EAAAiG,MAAA,mBACA,KAAAA,EAAA,KAAA,IAAAxK,OAAA,6BAEA,IAAAsX,GAAA9M,EAAA,GAAAgF,OACA+H,EAAAhY,KAAAoR,QAAAnG,EAAA,GAAAgF,OAGA,KAAAlP,EAAAmJ,QAAA8N,KAAAjX,EAAA0Q,cAAAuG,GACA,KAAA,IAAAvX,OAAA,aAAAwK,EAAA,GAAAgF,OAAA,yBAIA,IAAAgI,GAAAlX,EAAAmJ,QAAA8N,GACAA,EAAAnX,OACA6D,OAAA2E,KAAA2O,GAAAnX,MAEA,KAAAoX,EAAA,MAAArG,GAAA2F,QAGA3F,GAAAI,WAAA,UAEA,IAAAiB,GAAA,GAAAjS,GACAkX,EAAAnX,EAAA,SACAoX,EAAA,CAEApX,GAAAM,KAAA2W,EAAA,SAAA5T,EAAA2E,GACAkK,EAAA3C,UAAAsB,EAAA9E,KAAA,cACAmG,EAAA/C,QAAAP,EAAAO,QAEA+C,EAAA9C,KAAApP,EAAAwR,OAAAU,EAAA9C,KAAAR,EAAAQ,MACAiI,OAAAD,EACAE,KAAAjU,EACAkU,OAAAL,EACAM,OAAA,IAAAJ,EACAK,MAAAL,IAAAF,EAAA,EACAQ,MAAAN,EAAA,IAAA,EACAO,OAAAP,EAAA,IAAA,GACAQ,QAAAR,EAAA,GAAAF,EAAA,EAAAE,IAGAlF,EAAA9C,KAAA4H,GAAAhP,EAEAmP,EAAAU,OAAA3F,EAAA1C,SAEA4H,GAAA,IAGAvG,EAAA6D,YAAAyC,EAAA/G,SAOApQ,EAAAM,MAAA,WAAA,UAAA,YAAA,SAAAyT,EAAA7N,GACAoJ,EAAApJ,GAAA,SAAA2K,EAAA5M,EAAA6M,GACA7R,KAAAoR,QAAApM,GACA4M,EAAA4E,KAAAvP,GAAA,GAEA2K,EAAAI,WAAA/K,MASAlG,EAAAM,MAAA,OAAA,MAAA,QAAA,QAAA,OAAA,SAAAyT,EAAA7N,GACAoJ,EAAApJ,GAAA,SAAA2K,EAAA5M,EAAA6M,GACAD,EAAA4E,KAAAvP,EAAAjH,KAAAoR,QAAApM,MAQA,IAAA2O,IAEA,QAAA,UAAA,QAAA,cAAA,YAAA,aACA,aAAA,YAAA,WAAA,UAAA,SAGA,UAAA,WAAA,QAGA,OAAA,SAAA,QAAA,UAAA,WAAA,SAAA,SAGA,OAGA5S,GAAAM,KAAAsS,EAAA,SAAAmB,EAAAmB,GACA5F,EAAA4F,GAAA,SAAArE,EAAA5M,EAAA6M,GACAoF,EAAArW,KAAAZ,KAAA4R,EAAAqE,EAAAjR,MAgCAqL,EAAAwI,WAAA,SAAAjH,EAAA5M,EAAA6M,GACA7R,KAAAkQ,QAAAmC,cACAT,EAAAT,KAAAnR,KAAAkQ,QAAAmC,eAOAhC,EAAA9O,KAAA,SAAAqQ,EAAA5M,EAAA6M,GACA,GAAAiH,IAAA,QAAA,WAAA,UACApC,EAAA9E,EAAA,GAAA8E,QAAAC,aAEA,MAAAmC,EAAArP,QAAAiN,KAEA1R,IAAAA,EAAA4M,EAAA4E,KAAA,SAEA5E,EAAA4E,KAAA,sBAAAxR,ORwpDGmN,UAAU,GAAG3S,OAAS,WAAWuZ,IAAI,SAASzZ,EAAQK,EAAOD,GSz1DhE,GAAAqB,GAAAzB,EAAA,SAQAI,GAAAoS,SAAA,SAAAF,GACA,GAAAC,KAMA,OAJA9Q,GAAAM,KAAAuQ,EAAA,GAAAoH,WAAA,SAAA5U,EAAAoS,GACA3E,EAAA9Q,EAAAkY,UAAAzC,EAAAjX,OAAAiX,EAAAxR,QAGA6M,GASAnS,EAAAkY,UAAA,SAAApP,GACA,GAAA0Q,GAAA,kCACA,OAAA1Q,GAAAqC,QAAAqO,EAAA,SAAAjO,GACA,MAAA,IAAAA,EAAA0L,iBAUAjX,EAAAiS,OAAA,SAAAnJ,GACA,GAAA2Q,IACAC,IAAA,QACAC,IAAA,OACAC,IAAA,OACAC,IAAA,SACAC,IAAA,SACAC,IAAA,SAGA,OAAAzO,QAAAxC,GAAAqC,QAAA,aAAA,SAAAzK,GACA,MAAA+Y,GAAA/Y,QTk2DGZ,OAAS,gBAAgB,IAE3B","file":"jquery-view.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * Define the `View` class as a jQuery plugin.\n */\n\nvar $ = require('jquery')\nvar View = require('./src/View')\nvar Template = require('./src/Template')\n\n$.fn.view = function (options) {\n  if (!this.length) return\n\n  if (this.length > 1) {\n    var views = []\n\n    this.each(function () {\n      views.push($.fn.view.call($(this), options))\n    })\n\n    return views\n  }\n\n  var view = new View(this, options)\n  this.data('view', view)\n  return view\n}\n\n$.fn.view.Template = Template\n\n/**\n * Expose `View`.\n */\n\nmodule.exports = View\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","/**\n * Module dependencies.\n */\n\nvar $ = require('jquery')\nvar utils = require('./utils')\nvar directives = require('./directives')\n\n/**\n * Expose `Template`.\n */\n\nmodule.exports = Template\n\n/**\n * Default directives.\n */\n\nTemplate.directives = directives\n\n/**\n * Template constructor.\n * @constructor\n * @param {String} source\n */\n\nfunction Template (source) {\n  source = source || ''\n  this.source = source.trim()\n  this.context = {}\n  this.vars = {}\n  this.Template = Template\n}\n\n/**\n * Alias for `Template.prototype`.\n */\n\nvar fn = Template.prototype\n\n/**\n * Set the current source.\n * @method\n * @param {String} source\n */\n\nfn.setSource = function (source) {\n  this.source = source.trim()\n}\n\n/**\n * Parse the source with the given object.\n * @method\n * @param {Object} vars\n * @param {Object} context\n */\n\nfn.parse = function (vars, context) {\n  if (vars) this.vars = vars\n  if (context) this.context = context\n\n  var self = this\n  var $source = $($.parseHTML(this.source))\n  var $holder = $('<div>')\n\n  $source.appendTo($holder)\n\n  $holder.find('*').each(function () {\n    var $this = $(this)\n    if (!$this.parents().last().is($holder)) return\n    self.applyDirectives($this, $holder)\n  })\n\n  return this.supplant($holder.html()).replace(/^\\s*[\\r\\n]/gm, '')\n}\n\n/**\n * Compile a JS expression.\n * @method\n * @param {Object} context\n */\n\nfn.compile = function (expr, context) {\n  context = context || this.context\n  var vars = this.vars\n  var keys = Object.keys(vars)\n  var values = $.map(vars, function (val, key) {\n    if ($.isArray(val)) return [val]\n    return val\n  })\n  var fn = new Function(keys, 'return ' + expr) // eslint-disable-line\n  var ret = ''\n\n  try {\n    ret = fn.apply(context, values)\n  } catch (e) {\n    console.error('Compile error:', e)\n  }\n\n  return ret\n}\n\n/**\n * Supplant expressions.\n * @method\n * @param {String} str\n */\n\nfn.supplant = function (str) {\n  var self = this\n\n  var fn = function (a, b) {\n    var ret = self.compile(b)\n\n    if ($.isPlainObject(ret)) {\n      ret = JSON.stringify(ret, null, 2)\n    }\n\n    if ($.isFunction(ret)) {\n      ret = ret.toString()\n    }\n\n    return ret\n  }\n\n  var result = str.replace(/{{([^{}]*)}}/g, function (a, b) {\n    return utils.escape(fn(a, b))\n  })\n\n  result = result.replace(/{%([^{%}]*)%}/g, fn)\n\n  return result\n}\n\n/**\n * Apply directives in the element.\n * @method\n * @param {jQuery Element} $el\n * @param {jQuery Element} $holder\n */\n\nfn.applyDirectives = function ($el, $holder) {\n  var self = this\n  var props = utils.getProps($el)\n  var directives = Object.keys(Template.directives)\n\n  // `:repeat` has a higher priority\n  if (props[':repeat']) {\n    Template.directives.repeat.call(self, $el, props[':repeat'], props)\n    $el.removeAttr(':repeat')\n    delete props[':repeat']\n  }\n\n  $.each(props, function (key, val) {\n    if (!$el.parents().last().is($holder)) return\n\n    if (/^:.*/.test(key) && directives.indexOf(key.replace(':', '')) !== -1) {\n      Template.directives[key.replace(':', '')].call(self, $el, val, props)\n      $el.removeAttr(key)\n    }\n  })\n}\n\n/**\n * Static method to add custom directives.\n * @static\n * @param {String} name\n * @param {Function} fn\n */\n\nTemplate.addDirective = function (name, fn) {\n  Template.directives[name] = fn\n}\n","/**\n * Module dependencies.\n */\n\nvar $ = require('jquery')\nvar EventEmitter = require('events').EventEmitter\nvar inherits = require('util').inherits\nvar Template = require('./Template')\nvar utils = require('./utils')\n\n/**\n * Expose `View`.\n */\n\nmodule.exports = View\n\n/**\n * Cache object for templates.\n */\n\nvar cache = {}\n\n/**\n * Default options.\n */\n\nView.defaults = {\n  state: {},\n  template: '',\n  templateUrl: '',\n  beforeRender: $.noop,\n  afterRender: $.noop,\n  events: null,\n  props: {}\n}\n\n/**\n * View constructor.\n * @constructor\n * @param {jQuery Element} $el\n * @param {Object} options\n * @emits `template loaded`\n */\n\nfunction View ($el, options) {\n  var self = this\n  this.$el = $el\n  this.transclusion = $el.html()\n  this._options = $.extend({}, View.defaults, options)\n  this._state = {}\n\n  $.each(this._options, function (key, option) {\n    if (Object.keys(View.defaults).indexOf(key) !== -1) return\n    self[key] = option\n  })\n\n  this.props = $.extend({}, this._options.props, utils.getProps($el))\n  this._directiveEvents = []\n\n  $.when(this._getInitialState(), this._getTemplate())\n    .done(function (state, template) {\n      $.extend(self._state, state)\n      self._templateSource = template\n      self._template = new Template(template)\n      self.emit('template loaded')\n      self._start()\n    })\n    .fail(function (err) {\n      console.error(err)\n    })\n}\n\n/**\n * Inherits `EventEmitter`.\n */\n\ninherits(View, EventEmitter)\n\n/**\n * Alias for `View.prototype`.\n */\n\nvar fn = View.prototype\n\n/**\n * Get the initial state.\n * @method\n * @api private\n */\n\nfn._getInitialState = function () {\n  var state = this._options.state\n  state = $.isFunction(state)\n    ? state.call(this)\n    : state\n\n  if (state.promise) {\n    var deferred = $.Deferred()\n\n    state.done(function (response) {\n      deferred.resolve(response)\n    }).fail(deferred.reject)\n\n    return deferred.promise()\n  }\n\n  return state\n}\n\n/**\n * Return the current state.\n * @method\n * @api public\n * @returns {Object} state\n */\n\nfn.getState = function (obj) {\n  return this._state\n}\n\n/**\n * Set the current state.\n * @method\n * @api public\n * @emits `state change`\n */\n\nfn.setState = function () {\n  if (arguments.length === 1) {\n    this._state = $.extend(this._state, arguments[0])\n  } else {\n    this._state[arguments[0]] = arguments[1]\n  }\n\n  this.emit('state change', this.getState())\n  return this\n}\n\n/**\n * Set the state from an Ajax request.\n * @method\n * @api public\n * @params {Object} conf\n * @returns {Promise}\n */\n\nfn.setStateFromAjax = function (conf) {\n  var self = this\n\n  var defaults = {\n    url: null,\n    method: 'get',\n    state: null,\n    property: null,\n    data: null\n  }\n\n  conf = $.extend({}, defaults, conf)\n\n  var deferred = $.Deferred()\n\n  $.ajax({\n    url: conf.url,\n    context: self,\n    method: conf.method.toUpperCase(),\n    data: conf.data,\n    dataType: 'json'\n  })\n    .done(function (response) {\n      if (conf.property) {\n        response = response[conf.property]\n      }\n\n      if (conf.state) {\n        this.setState(conf.state, response)\n      } else {\n        this.setState(response)\n      }\n\n      deferred.resolveWith(this)\n    })\n    .fail(function (err) {\n      deferred.rejectWith(this, err)\n    })\n\n  return deferred.promise()\n}\n\n/**\n * Remove an object from an array in the state.\n * @method\n * @api public\n * @param {String} state property\n * @param {*} object you want to remove\n */\n\nfn.removeFromState = function (prop, obj) {\n  var state = this.getState()[prop]\n  var index = state.indexOf(obj)\n  if (index === -1) return\n  state.splice(index, 1)\n  this.setState(prop, state)\n}\n\n/**\n * Insert a new item into an array from the state.\n * @method\n * @api public\n * @param {String} state property\n * @param {*} item\n */\n\nfn.insertIntoState = function (prop, item) {\n  var state = this.getState()[prop]\n  state.push(item)\n  this.setState(prop, state)\n}\n\n/**\n * Extends an item from the state.\n * @method\n * @api public\n * @param {String} state property\n * @param {Object} item\n * @param {Object} obj\n */\n\nfn.extendStateItem = function (prop, item, obj) {\n  var state = this.getState()[prop]\n  var index = state.indexOf(item)\n  if (index === -1) return\n  state.splice(index, 1, $.extend({}, item, obj))\n  this.setState(prop, state)\n}\n\n/**\n * Get the template string.\n * The priority for get the template code is:\n * 1. templateUrl\n * 2. template\n * 3. $el's html\n * @method\n * @api private\n * @returns {Promise}\n */\n\nfn._getTemplate = function () {\n  var options = this._options\n  var $el = this.$el\n\n  if (options.templateUrl) return this._getExternalTemplate()\n\n  var deferred = $.Deferred()\n\n  if (options.template) {\n    deferred.resolve($el.html(options.template).prop('outerHTML'))\n  } else {\n    var source = $el.prop('outerHTML')\n    deferred.resolve(source)\n  }\n\n  return deferred.promise()\n}\n\n/**\n * Get external template.\n * @method\n * @api private\n * @returns {Promise}\n */\n\nfn._getExternalTemplate = function () {\n  var self = this\n  var url = this._options.templateUrl\n  var deferred = $.Deferred()\n\n  if (cache[url]) {\n    deferred.resolve(cache[url])\n  } else {\n    $.get(url)\n      .done(function (response) {\n        cache[url] = response\n        self.$el.html(response)\n        response = self.$el.prop('outerHTML')\n        deferred.resolve(response)\n      })\n      .fail(deferred.reject)\n  }\n\n  return deferred.promise()\n}\n\n/**\n * Render `$el`.\n * @method\n * @api private\n * @emits `before render`\n * @emits `after render`\n */\n\nfn._render = function () {\n  var $el = this.$el\n  var currentState = this.getState()\n  var template = this._template\n\n  this.emit('before render', $el, currentState)\n\n  // Clear events\n  $.each(this._directiveEvents, function (index, event) {\n    var selector = '[data-view-event-listener=\"' + index + '\"]'\n    $el\n      .filter(selector)\n      .add($el.find(selector))\n      .off(event.type)\n  })\n\n  this._directiveEvents = []\n\n  var html = template.parse(currentState, this)\n  var $newEl = $(html)\n\n  $el.replaceWith($newEl)\n\n  this.$el = $el = $newEl\n\n  // Bind events\n  $.each(this._directiveEvents, function (index, event) {\n    var selector = '[data-view-event-listener=\"' + index + '\"]'\n    $el\n      .filter(selector)\n      .add($el.find(selector))\n      .on(event.type, event.callback)\n  })\n\n  this._getDataReferences($el)\n\n  this.emit('after render', $el, currentState)\n}\n\n/**\n * Start method.\n * It runs once and also call the custom `init` method.\n * @method\n * @api private\n * @emits `ready`\n */\n\nfn._start = function () {\n  this.on('state change', this._render)\n  this.on('before render', this._options.beforeRender)\n  this.on('after render', this._options.afterRender)\n\n  if (this._options.events) {\n    this.on('before render', this._clearEvents)\n    this.on('after render', this._bindEvents)\n  }\n\n  if (this.init) this.init()\n  this._render()\n  this.emit('ready', this.$el)\n}\n\n/**\n * Walk through events hash and triggers a callback.\n * @method\n * @params {Function} cb\n * @api private\n */\n\nfn._walkEventsHash = function (cb) {\n  var self = this\n\n  $.each(this._options.events, function (eventName, eventListener) {\n    eventName = eventName.split(/\\s+/)\n    var listeners = eventName[0].split(',')\n    var selectors = eventName[1] ? eventName[1].split(',') : ['']\n\n    $.each(selectors, function (index, selector) {\n      $.each(listeners, function (index, listener) {\n        cb.call(self, selector, listener, eventListener)\n      })\n    })\n  })\n}\n\n/**\n * Clear events before rendering.\n * @method\n * @api private\n */\n\nfn._clearEvents = function () {\n  this._walkEventsHash(function (selector, listener, eventListener) {\n    this.$el.find(selector).off(listener)\n  })\n}\n\n/**\n * Bind events after rendering.\n * @method\n * @api private\n */\n\nfn._bindEvents = function () {\n  var self = this\n  this._walkEventsHash(function (selector, listener, eventListener) {\n    var $target = selector\n     ? this.$el.find(selector)\n     : this.$el\n\n    $target.on(listener, function (event) {\n      eventListener = $.isFunction(eventListener)\n        ? eventListener\n        : self[eventListener]\n      eventListener.call(self, $(this), event)\n    })\n  })\n}\n\n/**\n * Get data references from `:data` directive.\n * @method\n * @api private\n */\n\nfn._getDataReferences = function ($el) {\n  var self = this\n\n  this.data = {}\n\n  var $references = $el.find('[data-view-reference]')\n\n  $references.each(function () {\n    var $control = $(this)\n    var isCheckbox = ~['checkbox', 'radio'].indexOf($control.attr('type'))\n    var isSelect = $control[0].tagName.toLowerCase() === 'select'\n    var reference = $control.data('view-reference')\n\n    Object.defineProperty(self.data, reference, {\n      get: function () {\n        if (isCheckbox) return $control.prop('checked')\n        if (isSelect) return $control.find(':selected').val()\n        return $control.val()\n      },\n      set: function (value) {\n        if (isCheckbox) return $control.prop('checked', value)\n        if (isSelect) {\n          return $control.find('[value=\"' + value + '\"]').prop('selected', true)\n        }\n        return $control.val(value)\n      }\n    })\n\n    self.data['$' + reference] = $control\n  })\n}\n","/**\n * Module dependencies.\n */\n\nvar $ = require('jquery')\nvar utils = require('./utils')\n\n/**\n * Expose `directives`.\n */\n\nvar directives = module.exports = {}\n\n/**\n * Basic directives.\n */\n\n$.extend(directives, {\n  bind: function ($el, value, props) {\n    $el.text(this.compile(value))\n  },\n\n  show: function ($el, value, props) {\n    if (!this.compile(value)) $el.remove()\n  },\n\n  hide: function ($el, value, props) {\n    if (this.compile(value)) $el.remove()\n  },\n\n  'class': function ($el, value, props) {\n    $.each(this.compile(value), function (className, expr) {\n      if (expr) {\n        $el.addClass(utils.kebabCase(className))\n      } else {\n        $el.removeClass(className)\n      }\n    })\n  },\n\n  style: function ($el, value, props) {\n    $el.css(this.compile(value))\n  }\n})\n\n/**\n * Repeat directive.\n */\n\ndirectives.repeat = function ($el, value, props) {\n  var self = this\n  var Template = this.Template\n\n  var match = value.match(/(.*)\\S*in\\S*(.*)/)\n  if (!match) throw new Error('Invalid Syntax for :repeat')\n\n  var needle = match[1].trim()\n  var haystack = this.compile(match[2].trim())\n\n  // Make sure the haystack is a collection\n  if (!($.isArray(haystack) || $.isPlainObject(haystack))) {\n    throw new Error('Haystack `' + match[2].trim() + '` must be a collection')\n  }\n\n  // Make sure the haystack has at least one value\n  var total = $.isArray(haystack)\n    ? haystack.length\n    : Object.keys(haystack).length\n\n  if (!total) return $el.remove()\n\n  // Start the loop\n  $el.removeAttr(':repeat')\n\n  var template = new Template()\n  var $collection = $('<div>')\n  var counter = 0\n\n  $.each(haystack, function (key, val) {\n    template.setSource($el.prop('outerHTML'))\n    template.context = self.context\n\n    template.vars = $.extend(template.vars, self.vars, {\n      $index: counter,\n      $key: key,\n      $total: total,\n      $first: counter === 0,\n      $last: counter === total - 1,\n      $even: counter % 2 === 0,\n      $odd: !(counter % 2 === 0),\n      $middle: counter > 0 && counter < (total - 1)\n    })\n\n    template.vars[needle] = val\n\n    $collection.append(template.parse())\n\n    counter += 1\n  })\n\n  $el.replaceWith($collection.html())\n}\n\n/**\n * Directives that set its attribute if the given expression is truthy.\n */\n\n$.each(['selected', 'checked', 'disabled'], function (index, dir) {\n  directives[dir] = function ($el, value, props) {\n    if (this.compile(value)) {\n      $el.attr(dir, true)\n    } else {\n      $el.removeAttr(dir)\n    }\n  }\n})\n\n/**\n * Directives that replace the attribute values by the expression given.\n */\n\n$.each(['href', 'src', 'value', 'title', 'alt'], function (index, dir) {\n  directives[dir] = function ($el, value, props) {\n    $el.attr(dir, this.compile(value))\n  }\n})\n\n/**\n * Directives for events.\n */\n\nvar events = [\n  // Mouse events\n  'click', 'dbclick', 'hover', 'contextmenu', 'mousedown', 'mouseenter',\n  'mouseleave', 'mousemove', 'mouseout', 'mouseup', 'toggle',\n\n  // Keyboard events\n  'keydown', 'keypress', 'keyup',\n\n  // Form events\n  'blur', 'change', 'focus', 'focusin', 'focusout', 'select', 'submit',\n\n  // Document loading events\n  'load'\n]\n\n$.each(events, function (index, eventName) {\n  directives[eventName] = function ($el, value, props) {\n    registerEvent.call(this, $el, eventName, value)\n  }\n})\n\nfunction registerEvent ($el, eventName, expression) {\n  var self = this\n  var view = this.context\n\n  var template = new self.Template()\n  template.context = self.context\n  template.vars = $.extend({}, self.vars)\n\n  var fn = function eventListener (event) {\n    $.extend(template.vars, {\n      $target: $(event.target),\n      $event: event\n    })\n    template.compile(expression)\n  }\n\n  view._directiveEvents.push({\n    type: eventName,\n    callback: fn\n  })\n\n  $el.attr('data-view-event-listener', view._directiveEvents.length - 1)\n}\n\n/**\n * Transclusion.\n */\n\ndirectives.transclude = function ($el, value, props) {\n  if (!this.context.transclusion) return\n  $el.html(this.context.transclusion)\n}\n\n/**\n * Data directives for create references for form controls.\n */\n\ndirectives.data = function ($el, value, props) {\n  var controls = ['input', 'textarea', 'select']\n  var tagName = $el[0].tagName.toLowerCase()\n\n  if (controls.indexOf(tagName) === -1) return\n\n  if (!value) value = $el.attr('name')\n\n  $el.attr('data-view-reference', value)\n}\n","/**\n * Module dependencies.\n */\n\nvar $ = require('jquery')\n\n/**\n * Get all attributes from an element. The attribute's name is converted to\n * camelCase.\n * @param {jQuery Element} $el\n */\n\nexports.getProps = function ($el) {\n  var props = {}\n\n  $.each($el[0].attributes, function (key, attr) {\n    props[$.camelCase(attr.name)] = attr.value\n  })\n\n  return props\n}\n\n/**\n * Return the string as kebab-case.\n * https://github.com/joakimbeng/kebab-case/blob/master/index.js\n * @param {String} str\n */\n\nexports.kebabCase = function (str) {\n  var KEBAB_REGEX = /[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g\n  return str.replace(KEBAB_REGEX, function (match) {\n    return '-' + match.toLowerCase()\n  })\n}\n\n/**\n * Escapes a string for insertion into HTML,\n * replacing &, <, >, \", `, and ' characters.\n * @param {String} str\n */\n\nexports.escape = function (str) {\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#x27;',\n    '/': '&#x2F;'\n  }\n\n  return String(str).replace(/[&<>\"'\\/]/g, function (s) {\n    return entityMap[s]\n  })\n}\n"],"sourceRoot":"/source/"}